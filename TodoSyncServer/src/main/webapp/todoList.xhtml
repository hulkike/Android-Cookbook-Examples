<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:pf="http://primefaces.org/ui"
	template="template/template.xhtml">

	<ui:define name="title">ToDo List</ui:define>
	<ui:define name="body">
	<h:form>
		<pf:panel>
			<f:facet name="header">ToDo List for user #{remoteUser}</f:facet>

			<div class="results">

				<pf:tabView switchType='ajax'>
					<pf:tab title="All Tasks">
						<h:outputText value="No tasks Yet"
							rendered="#{empty todoList.resultList}" />
						<!--  Cannot use pf:dataTable here, should work, doesn't. -->
						<h:dataTable id="todoList" border='1' rules="all"
							var="task" value="#{todoList.resultList}"
							rendered="#{not empty todoList.resultList}">
							<h:column>
								<f:facet name="header">Id</f:facet>
                    			#{task.id}
                				</h:column>
							<h:column>
								<f:facet name="header">Date Entered</f:facet>
                    			#{task.creationDate}
                				</h:column>
							<h:column>
								<f:facet name="header">Detail</f:facet>
                    			#{task.name}
                				</h:column>
                				<h:column>
							<f:facet name="header">Priority</f:facet>
                    			#{task.priority}
                				</h:column>
						</h:dataTable>
					</pf:tab>

 					<pf:tab title="Completed Tasks">
 					Not implemented yet.
 					</pf:tab>

				</pf:tabView>
			</div>

		</pf:panel>

		<div class="actionButtons">
			<h:link value="Add Task" outcome="addTask" />
		</div>
	</h:form>
	</ui:define>

</ui:composition>

